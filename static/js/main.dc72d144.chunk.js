(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{21:function(e,t,n){e.exports=n(36)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),u=n.n(c),l=n(3),s=n(19),o=n(20),i=n(2),f=n(12),m=n(17),E=n(18),d=n(6),p=n.n(d),b=n(9),O="https://mate-api.herokuapp.com/",_=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O+t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("todos/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("users/"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){return{type:"START_LOADING",value:e}},S=function(e){return{type:"SET_USER",value:e}},h=function(e){return{type:"SET_USER_SELECTED",value:e}},U=function(e){return e.loading},y=function(e){return e.isUserError},N=function(e){return e.isUserSelected},g=function(e){return e.todos},C=function(e){return e.userId},I=function(e){return e.user},R=function(e){return e.searchQuery},A=function(e){return e.filterStatus},D=function(e,t){return e.map((function(e){return e.id!==t?e:Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed})}))},w={todos:[],user:{},userId:0,isUserSelected:!1,isUserError:!1,searchQuery:"",filterStatus:"",loading:!1},k=Object(f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:Object(o.a)(t.value)});case"SET_TODOS_CHANGED_STATUS":return Object(i.a)(Object(i.a)({},e),{},{todosStatusChanged:t.value});case"UPDATE_TODO_ITEM":return Object(i.a)(Object(i.a)({},e),{},{todos:D(e.todos,t.value)});case"START_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:t.value});case"FINISH_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,message:t.message});case"SET_USERID":return Object(i.a)(Object(i.a)({},e),{},{userId:t.value});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.value});case"SET_USER_SELECTED":return Object(i.a)(Object(i.a)({},e),{},{isUserSelected:t.value});case"SET_USER_ERROR":return Object(i.a)(Object(i.a)({},e),{},{isUserError:t.value});case"SET_INPUT_QUERY":return Object(i.a)(Object(i.a)({},e),{},{searchQuery:t.value});case"SET_FILTER_STATUS":return Object(i.a)(Object(i.a)({},e),{},{filterStatus:t.value});default:return e}}),Object(E.composeWithDevTools)(Object(f.applyMiddleware)(m.a))),L=(n(30),{All:"All",Active:"Active",Completed:"Completed"}),x=(n(31),function(){var e=Object(l.c)(g),t=Object(l.b)(),n=Object(l.c)(R),a=Object(l.c)(A),c=Object(l.c)(U),u=e.filter((function(e){return null!==e.title?e.title.toLowerCase().includes(n.toLowerCase()):null})).filter((function(e){switch(a){case L.Completed:return e.completed;case L.Active:return!e.completed;default:return!0}}));return r.a.createElement("div",{className:"TodoList"},r.a.createElement("h3",null,"Todos:"),c?r.a.createElement("p",{className:"info"},"Loading..."):r.a.createElement("div",{className:"TodoList__container"},r.a.createElement("ul",{className:"TodoList__list"},u.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",readOnly:!0,checked:e.completed,onClick:function(){t({type:"SET_TODOS_CHANGED_STATUS",value:!0}),t({type:"UPDATE_TODO_ITEM",value:e.id})}}),r.a.createElement("p",null,e.title)),r.a.createElement("button",{type:"button",onClick:function(){t({type:"SET_USERID",value:e.userId}),t(h(!0))}},"User ID#",e.userId))})))))}),G=(n(32),function(){var e=Object.keys(L),t=Object(l.b)(),n=Object(l.c)(R),a=Object(l.c)(A);return r.a.createElement("form",{className:"TodoList__list-filters"},r.a.createElement("input",{type:"text",name:"filterTitle",value:n,placeholder:"filter todos",onChange:function(e){t(function(e){return{type:"SET_INPUT_QUERY",value:e}}(e.target.value))}}),r.a.createElement("select",{name:"filterStatus",value:a,onChange:function(e){t(function(e){return{type:"SET_FILTER_STATUS",value:e}}(e.target.value))}},e.map((function(e){return r.a.createElement("option",{key:e},L[e])}))))}),F=(n(33),function(){var e=Object(l.b)(),t=Object(l.c)(I),n=Object(l.c)(C),c=Object(l.c)(y),u=function(){return e((t=n,function(e){T(t).then((function(t){e(S(t.data))})).catch((function(t){console.warn("Failed loading user data.",t.message),e(function(e){return{type:"SET_USER_ERROR",value:e}}(!0))}))}));var t};Object(a.useEffect)((function(){n&&n>0&&u()}),[n]);return!t||c?r.a.createElement("p",{className:"warning pl-30"},"Loading user data has failed."):r.a.createElement("div",{className:"CurrentUser"},r.a.createElement("h2",{className:"CurrentUser__title"},r.a.createElement("span",null,"Selected user with ID"," ".concat(t.id))),t.name&&t.email?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"CurrentUser__name"},t.name),r.a.createElement("p",{className:"CurrentUser__email"},t.email),r.a.createElement("p",{className:"CurrentUser__phone"},t.phone)):r.a.createElement("p",{className:"info pl-30"},"This user has not enough details."),r.a.createElement("div",{className:"CurrentUser__buttons"},r.a.createElement("button",{type:"button",className:"button",onClick:function(){e(S({})),e(h(!1))}},"Clear user")))}),Q=function(){var e=Object(l.b)(),t=Object(l.c)(N),n=function(){return e(j(!0)),e((function(e){v().then((function(t){e(function(e){return{type:"GET_TODOS",value:e}}(t.data)),e(j(!1))})).catch((function(e){console.warn(e.message)}))}))};return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Redux list of todos"),r.a.createElement(G,null),r.a.createElement("div",{className:"App__columns"},r.a.createElement(x,null),t?r.a.createElement(F,null):r.a.createElement("p",{className:"info pl-30"},"No user selected")))},P=function(){return r.a.createElement(l.a,{store:k},r.a.createElement(s.a,null,r.a.createElement(Q,null)))};u.a.render(r.a.createElement(P,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.dc72d144.chunk.js.map